jQuery(document).ready(function(){var e,r,t,n;jQuery(".saveButtonContainer").hide(),jQuery(".channel_dragreposition").hide(),jQuery(".dragContainer").hide(),jQuery(".cropContainer").hide(),jQuery(".profileDragContainer").hide(),jQuery(".pixelCondition").text(""),jQuery(".dragButtonContainer").hide(),jQuery(".loadingBar").hide(),jQuery(".dragBox").hide(),n=jQuery(".bannerContainer")[0].offsetWidth,jQuery(".profileEditor,.coverEditor").click(function(){jQuery(".bannerContainer").css("height","190px"),jQuery(".dragButtonContainer").hide(),jQuery(".bannerContainer").css("background","transparent"),jQuery(".saveButtonContainer").hide(),jQuery(".fileContent").val(""),r=this.className,"profileEditor"==r&&(e="Image must be greater than or equal to 1024x700 pixels",jQuery(".uploadTypeValue").val("profile"),t="profile"),"coverEditor"==r&&(e="Image must be greater than or equal to 1024x700 pixels",jQuery(".uploadTypeValue").val("cover"),t="cover"),jQuery(".profileContainer").hide(),jQuery(".coverContainer").hide(),jQuery(".pixelCondition").text(e),jQuery(".dragContainer").show(200)}),jQuery(".closeButton").click(function(){jQuery(".bannerContainer").css("height","250px"),jQuery(".fileContent").val(""),jQuery(".dragContainer").hide(),jQuery(".pixelCondition").text(""),jQuery(".profileContainer").show(),jQuery(".coverContainer").show()}),jQuery(".imageButton").click(function(){jQuery(".fileContent").click()}),jQuery(".fileContent").change(function(){var e=window.navigator.userAgent,r=e.indexOf("MSIE ");if(r>0)return void jQuery(".uploadSubmitButton").submit();var n,o,a,i,f,u,s,p,l;l=parseInt(jQuery(".ui").val());var n=this.files[0],p=window.URL||window.webkitURL;if(o=new Image,f=n.type,s=new RegExp(/^image\/(jpeg|png|gif)$/),u=s.test(f),!u)return void alert("Invalid type");if(o.onload=function(){i=this.height,a=this.width},"cover"==t&&(a>1e3||i>700))return void alert("Image pixel should be greater than 1024X700");if(o.src=p.createObjectURL(n),u){var c=new FormData;c.append("images",this.files[0]),uploadImage(c,t,l)}});var o=document.getElementById("dragContainer");o.addEventListener("dragover",function(e){jQuery(".dragContainer").css("background","honeydew"),e.preventDefault(),e.stopPropagation()},!1),o.addEventListener("dragleave",function(e){jQuery(".dragContainer").css("background","rgb(249, 249, 249)"),e.preventDefault(),e.stopPropagation()},!1),o.addEventListener("drop",function(e){dragFile=e.dataTransfer.files,ui=parseInt(jQuery(".ui").val()),file=dragFile[0],jQuery(".dragContainer").css("background","rgb(249, 249, 249)");var r=window.URL||window.webkitURL;if(img=new Image,type=file.type,regPattern=new RegExp(/^image\/(jpeg|png|gif)/),validType=regPattern.test(type),!validType)return e.preventDefault(),e.stopPropagation(),void alert("Invalid type");if(img.onload=function(){imageHeight=this.height,imageWidth=this.width},img.src=r.createObjectURL(file),validType){var n=new FormData;n.append("images",file),uploadImage(n,t,ui)}e.preventDefault(),e.stopPropagation()},!1),jQuery(".cropContainer").draggable({stop:function(){var e;e=jQuery(".bannerContainer")[0].offsetWidth,cropContainerWidth=jQuery(".cropContainer")[0].offsetWidth,bannerContainerHeight=jQuery(".bannerContainer")[0].offsetHeight,cropContainerHeight=jQuery(".cropContainer")[0].offsetHeight;var r=jQuery(".cropContainer")[0].offsetTop,t=jQuery(".cropContainer")[0].offsetLeft;t>0&&jQuery(".cropContainer").css("left","0px"),r>0&&jQuery(".cropContainer").css("top","0px"),cropContainerWidth>e&&(leftOffsetValue=cropContainerWidth-e),cropContainerHeight>bannerContainerHeight&&(topOffsetValue=cropContainerHeight-bannerContainerHeight),currentLeftOffsetPosition=jQuery(".cropContainer")[0].offsetLeft,currentLeftOffsetPosition<0?leftValue=Math.abs(currentLeftOffsetPosition):leftValue="",currentTopOffsetPosition=jQuery(".cropContainer")[0].offsetTop,currentTopOffsetPosition<0?topValue=Math.abs(currentTopOffsetPosition):topValue="",leftValue>leftOffsetValue&&""!=leftValue&&jQuery(".cropContainer").css("left","-"+leftOffsetValue+"px"),topValue>topOffsetValue&&""!=topValue&&jQuery(".cropContainer").css("top","-"+topOffsetValue+"px")}}),jQuery(".profileDragContainer").draggable({stop:function(){var e;e=jQuery(".bannerContainer")[0].offsetWidth,cropContainerWidth=jQuery(".profileDragContainer")[0].offsetWidth,bannerContainerHeight=jQuery(".bannerContainer")[0].offsetHeight,cropContainerHeight=jQuery(".profileDragContainer")[0].offsetHeight;var r=jQuery(".profileDragContainer")[0].offsetTop,t=jQuery(".profileDragContainer")[0].offsetLeft;t>0&&jQuery(".profileDragContainer").css("left","0px"),r>0&&jQuery(".profileDragContainer").css("top","0px"),cropContainerWidth>e&&(leftOffsetValue=cropContainerWidth-e),cropContainerHeight>bannerContainerHeight&&(topOffsetValue=cropContainerHeight-bannerContainerHeight),currentLeftOffsetPosition=jQuery(".profileDragContainer")[0].offsetLeft,currentLeftOffsetPosition<0?leftValue=Math.abs(currentLeftOffsetPosition):leftValue="",currentTopOffsetPosition=jQuery(".profileDragContainer")[0].offsetTop,currentTopOffsetPosition<0?topValue=Math.abs(currentTopOffsetPosition):topValue="",leftValue>leftOffsetValue&&""!=leftValue&&jQuery(".profileDragContainer").css("left","-"+leftOffsetValue+"px"),topValue>topOffsetValue&&""!=topValue&&jQuery(".profileDragContainer").css("top","-"+topOffsetValue+"px")}}),jQuery(".saveButton").click(function(){var e,r,t,n;t=Math.abs(jQuery(".cropContainer")[0].offsetLeft),n=Math.abs(jQuery(".cropContainer")[0].offsetTop),e=Math.abs(jQuery(".bannerContainer")[0].offsetWidth),r=Math.abs(jQuery(".bannerContainer")[0].offsetHeight),cropImage(t,n,e,r)}),jQuery(".profileDragBox").draggable({containment:"parent"}),jQuery(".saveProfileImage").click(function(){var e,r,t,n;t=Math.abs(jQuery(".profileDragContainer")[0].offsetLeft)+Math.abs(jQuery(".dragBox")[0].offsetLeft),n=Math.abs(jQuery(".profileDragContainer")[0].offsetTop)+Math.abs(jQuery(".dragBox")[0].offsetTop),e=160,r=160,jQuery(".dragButtonContainer").hide(),cropImage(t,n,e,r)}),jQuery(".cancelButton").click(function(){jQuery(".fileContent").val(""),jQuery(".dragBox").css("top","0px"),jQuery(".dragBox").css("left","0px"),jQuery(".cropContainer").css("top","0px"),jQuery(".cropContainer").css("left","0px"),jQuery(".profileDragContainer").css("top","0px"),jQuery(".profileDragContainer").css("left","0px"),jQuery(".profileUpload").hide(),jQuery(".channel_dragreposition").hide(),jQuery(".dragButtonContainer").hide(),jQuery(".coverUpload").hide(),jQuery(".cropContainer").hide(),jQuery(".dragContainer").hide(),jQuery(".profileDragContainer").hide(),jQuery(".saveButtonContainer").hide(),jQuery(".coverContainer").show(),jQuery(".profileContainer").show(),jQuery(".dragBox").hide(),jQuery(".fileContent").val("")}),jQuery(window).resize(function(){}),jQuery(".dragBox").draggable({containment:".bannerContainer"})});